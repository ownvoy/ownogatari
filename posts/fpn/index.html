<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://ownogatari.xyz/" accesskey="h" title="ë¯¸ë˜ì‚¬íšŒì™€ ì°½ì˜í˜ì‹ ì¸ì¬ (Alt + H)">ë¯¸ë˜ì‚¬íšŒì™€ ì°½ì˜í˜ì‹ ì¸ì¬</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://ownogatari.xyz/categories/" title="categories">
                    <span>categories</span>
                </a>
            </li>
            <li>
                <a href="https://ownogatari.xyz/tags/" title="tags">
                    <span>tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://ownogatari.xyz/">Home</a>&nbsp;Â»&nbsp;<a href="https://ownogatari.xyz/posts/">Posts</a></div>
    <h1 class="post-title">
      FPN
    </h1>
    <div class="post-meta"><span title='2023-12-26 06:25:59 +0900 +0900'>December 26, 2023</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;450 words&nbsp;Â·&nbsp;Won Jun Oh

</div>
  </header> 
  <div class="post-content"><h1 id="1-overview">1. overview<a hidden class="anchor" aria-hidden="true" href="#1-overview">#</a></h1>
<h2 id="11-objective">1.1 objective<a hidden class="anchor" aria-hidden="true" href="#11-objective">#</a></h2>
<p>resolutionê³¼ semanticì˜ trade-offë¥¼ ì¤„ì—¬ë³´ì.</p>
<p>\(\Leftrightarrow\) ëª¨ë“  resolution(scale)ì—ì„œ ê°•í•œ semantic ì •ë³´ë¥¼ ì–»ì–´ë³´ì.</p>
<h2 id="12-background">1.2 background<a hidden class="anchor" aria-hidden="true" href="#12-background">#</a></h2>
<h3 id="121-resolution-semantic-trade-off">1.2.1 resolution semantic trade-off<a hidden class="anchor" aria-hidden="true" href="#121-resolution-semantic-trade-off">#</a></h3>
<p>\(\text{resolution} \downarrow \ \ \Rightarrow \ \ \text{semantic} \uparrow (ğŸ˜€)  , \ \ \text{detail} \downarrow (ğŸ™)\)
\(\text{resolution} \uparrow \ \ \Rightarrow \ \ \text{semantic} \downarrow (ğŸ™) \ , \text{detail} \uparrow (ğŸ˜€)\)</p>
<p>ì•„ë˜ tableì˜ ê° colë“¤ì€ ê°™ì€ ì˜ë¯¸ì„.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>higher resolution</td>
<td>lower resolution</td>
</tr>
<tr>
<td>weak semantic</td>
<td>strong semantic</td>
</tr>
<tr>
<td>low level feature</td>
<td>high level feature</td>
</tr>
<tr>
<td>detail</td>
<td>abstract</td>
</tr>
<tr>
<td>lower layer</td>
<td>higher layer</td>
</tr>
</tbody>
</table>
<h3 id="122-related-works">1.2.2 related works<a hidden class="anchor" aria-hidden="true" href="#122-related-works">#</a></h3>
<p><img loading="lazy" src="https://github.com/ownvoy/ownogatari/assets/96481582/e6d0a70f-9704-4734-ad15-92b7f1872534" alt="image"  />
</p>
<ol>
<li><strong>Feautrized image pyramid(a):</strong> ê°ê°ì˜ scaleë“¤ë§ˆë‹¤ featureë¥¼ ë½‘ì•„ì„œ ì†ë„ê°€ ëŠë¦¼.</li>
<li><strong>Single feature map(b):</strong> ëª¨ë“  ì¸µì´ rich semanticí•˜ì§€ ì•ŠìŒ.</li>
<li><strong>Pyramidal feature hierarchy(c):</strong> ëª¨ë“  ì¸µì´ rich semanticí•˜ì§€ ì•ŠìŒ. (ë˜, low levelì— ëŒ€í•œ feature x, <a href="https://ownogatari.xyz/posts/sdd/#2-main">SDD</a>: pre:  backboneì˜ conv4ë¶€í„° predictionì„ í•¨.)</li>
<li><strong>Feature Pyramid Network</strong>(d): ëª¨ë“  ì¸µì´ rich semanticí•¨. (low level feature + high level feature)</li>
</ol>
<h1 id="2-main">2. main<a hidden class="anchor" aria-hidden="true" href="#2-main">#</a></h1>
<blockquote>
<p>Q) ì–´ë–»ê²Œ í•˜ë©´ ëª¨ë“  ì¸µì´ rich semantic í•  ìˆ˜ ìˆì„ê¹Œ?</p>
</blockquote>
<blockquote>
<p>A) lower ì¸µì˜ feature mapì´ rich semantic í•˜ë©´ ë¨.</p>
</blockquote>
<blockquote>
<p>ë°©ë²•) lower ì¸µ feature map +=  higher ì¸µ feature map</p>
</blockquote>
<h2 id="21-architecture">2.1 architecture<a hidden class="anchor" aria-hidden="true" href="#21-architecture">#</a></h2>
<p>Bottom-up pathway + Top-down pathway and lateral connections.</p>
<ul>
<li><strong>Bottom-up pathway:</strong> ì˜¬ë¼ê°€ë©´ì„œ ì—¬ëŸ¬ê°€ì§€ ì¸µ ë§Œë“¤ì–´ì£¼ëŠ” ê²ƒ.</li>
<li><strong>Top-down pathway and lateral connections:</strong> higher ì¸µì˜ feature mapì„ ë”í•´ì£¼ëŠ” ê²ƒ. <img loading="lazy" src="https://github.com/ownvoy/ownogatari/assets/96481582/c010ca75-2d78-40df-bf22-9606422ead9a" alt="image"  />
</li>
</ul>
<h3 id="211-bottom-up-pathway">2.1.1 Bottom-up pathway<a hidden class="anchor" aria-hidden="true" href="#211-bottom-up-pathway">#</a></h3>
<p><img loading="lazy" src="https://github.com/ownvoy/ownogatari/assets/96481582/ee64f1a9-4f11-4b39-ae56-e3bf0f783e43" alt="image"  />

convë¥¼ í†µê³¼í•˜ê³  ë‚˜ì˜¨ output: \({C_{2}, C_{3}, C_{4}, C_{5}}\)
ê°ê°ì˜ inputì— ëŒ€í•œ stride \({4,8,16,32}\)</p>
<h3 id="212-top-down-pathway-and-lateral-connections">2.1.2 Top-down pathway and lateral connections<a hidden class="anchor" aria-hidden="true" href="#212-top-down-pathway-and-lateral-connections">#</a></h3>
<p><img loading="lazy" src="https://github.com/ownvoy/ownogatari/assets/96481582/a5a6942f-039e-43f1-a696-e8f4e7489e4d" alt="image"  />
</p>
<p><strong>Top-down pathway:</strong> upsamplingí•´ì„œ ì‚¬ì´ì¦ˆë¥¼ í‚¤ì›€. (ë°©ë²•: nearest neighbor upsampling)
<strong>later connection:</strong> \(1 \times 1\) conv ëŒë ¤ì„œ, channel ë§ì¶˜ë‹¤ìŒ, Top-downì—ì„œ ë‚´ë ¤ì˜¤ëŠ”ê±°ë‘ ë”í•´ì¤Œ.</p>
<p><strong>\(\Rightarrow\)ê° ì¸µì˜ feature mapì€ lower layerì˜ localized ì •ë³´ì™€ higher layerì˜ semanticì„ ë‘˜ ë‹¤ ê°€ì§ˆ ìˆ˜ ìˆìŒ.</strong></p>
<p>ê° ì¸µì˜ final feature map(\(\lbrace P_{2}, P_{3}, P_{4}, P_{5}\rbrace \))ì€ \(3 \times 3\)ì˜ convolutionì„ ê±°ì¹œ í›„ ì™„ì„±.</p>
<h2 id="22-application">2.2 application<a hidden class="anchor" aria-hidden="true" href="#22-application">#</a></h2>
<p>ì§€ê¸ˆê¹Œì§€ ê³¼ì •ì€ í•˜ë‚˜ì˜ backboneì„ ë§Œë“  ê²ƒ.
\(\Rightarrow\) FPNì„ RPNê³¼ headë¥¼ ì—°ê²° í•´ì£¼ëŠ” ê³¼ì •ì´ í•„ìš”.</p>
<h3 id="221-fpn-for-rpn">2.2.1 FPN for RPN<a hidden class="anchor" aria-hidden="true" href="#221-fpn-for-rpn">#</a></h3>
<p><img loading="lazy" src="https://github.com/ownvoy/ownogatari/assets/96481582/415aaa54-dfe9-4264-bc08-1d85ad0f4070" alt="RPN"  />
</p>
<ul>
<li>
<p>ê¸°ì¡´ì˜ RPN: í•˜ë‚˜ì˜ feature mapì— ëŒ€í•´ convolutionë¥¼ ëŒë¦¬ê¸°. (<a href="https://herbwood.tistory.com/10">ì‚¬ì§„</a>)</p>
</li>
<li>
<p>ìˆ˜ì •ëœ RPN: ì—¬ëŸ¬ ê°œì˜ feature mapì— ëŒ€í•´ convolutionë¥¼ ê°ê° ëŒë¦¬ê¸°.</p>
</li>
<li>
<p>ê¸°ì¡´ì˜ RPN: í•˜ë‚˜ì˜ feature mapì— ëŒ€í•´ ì—¬ëŸ¬ scaleì˜ anchor size.</p>
</li>
<li>
<p>ìˆ˜ì •ëœ RPN: í•˜ë‚˜ì˜ feature mapì— ëŒ€í•´ í•˜ë‚˜ì˜ scaleì˜ anchor size.</p>
<ul>
<li>\(\lbrace P_2, P_3, P_4, P_5, P_6\rbrace\)ì— ëŒ€í•´ \(\lbrace32^2, 64^2, 128^2, 256^2, 512^2\rbrace\) anchor  size ì„¤ì •</li>
</ul>
</li>
</ul>
<h3 id="222-fpn-for-roi-pooling">2.2.2 FPN for RoI pooling<a hidden class="anchor" aria-hidden="true" href="#222-fpn-for-roi-pooling">#</a></h3>
<ul>
<li>ê¸°ì¡´ì˜ RoI pooling : í•˜ë‚˜ì˜ feature mapì— ëŒ€í•´ ì ìš©í–ˆì—ˆìŒ</li>
<li>ìˆ˜ì •ëœ RoI pooling: ì—¬ëŸ¬ ê°œì˜ feature mapë“¤ ì¤‘ ì–´ëŠ feature mapì„ ì“¸ ê²ƒì¸ì§€ ì •í•´ì•¼í•¨.</li>
</ul>
<p>$$k=[k_{0}+l o g_{2}(\sqrt{w h}/224)]$$</p>
<ul>
<li>RoIì˜ weightì™€ heightì— ë”°ë¼ \(k\) levelì˜ feature mapì„ ì •í•¨.</li>
<li>\(w, h\)ê°€ ì‘ë‹¤ëŠ” ê²ƒì€ ê°ì§€í•  ì‚¬ë¬¼ì´ ì‘ë‹¤ëŠ” ê²ƒì´ë¯€ë¡œ, resolutionì´ ë†’ì€ feature mapì„ ì“°ëŠ” ê²ƒì´ ì¢‹ìŒ.</li>
</ul>
<h1 id="3-experiments">3. experiments<a hidden class="anchor" aria-hidden="true" href="#3-experiments">#</a></h1>
<p><img loading="lazy" src="https://github.com/ownvoy/ownogatari/assets/96481582/5412c9a6-1bd0-42d2-9628-8d1ae56b1a95" alt="image"  />

ì„±ëŠ¥ì´ ì••ë„ì ìœ¼ë¡œ ì¢‹ì€ì§€ëŠ” ì˜ ëª¨ë¥´ê² ìŒ.</p>
<p>iterative regression, hard negative mining, context modeling, stronger data augmentation ê°™ì€ ê¸°ë²•ë“¤ ì•ˆ ì“°ê³  ìˆœìˆ˜í•˜ê²Œ ì´ê²¼ë‹¤ê³ ëŠ” ì–¸ê¸‰í•¨.</p>
<p><img loading="lazy" src="https://github.com/ownvoy/ownogatari/assets/96481582/0e21e7cd-9b9e-4269-9fd5-d0857eae0aee" alt="image"  />

RPN ë¶€ë¶„ì— ëŒ€í•œ ì‹¤í—˜</p>
<p><img loading="lazy" src="https://github.com/ownvoy/ownogatari/assets/96481582/40a6aa4d-786a-485a-ab33-78ce98ddbefe" alt="image"  />

RoI poolingì— ëŒ€í•œ ì‹¤í—˜(only finest levelê³¼ ë¹„êµí•˜ë©´ ì§„ì§œ ë³„ ì°¨ì´ê°€ ì—†ìŒ.)</p>
<blockquote>
<p>large objectì— ëŒ€í•œ ì„±ëŠ¥ì´ ë¯¸ë¯¸í•œ ê²ƒì€, ì—¬ëŸ¬ê°€ì§€ scaleì„ ë³´ëŠë¼ ì •ë³´ê°€ ì„ì—¬ì„œ ê·¸ëŸ° ê²ƒ ê°™ìŒ.</p>
</blockquote>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://ownogatari.xyz/tags/cv/">CV</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://ownogatari.xyz/posts/cornernet/">
    <span class="title">Â« Prev</span>
    <br>
    <span>CornerNet</span>
  </a>
  <a class="next" href="https://ownogatari.xyz/posts/mask_r-cnn/">
    <span class="title">Next Â»</span>
    <br>
    <span>Mask R-CNN</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    <footer class="footer">
    
</footer>
</div>

</body>



</html></body>

</html>
